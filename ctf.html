<html>

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tool Search</title>
  <link rel="icon" href="fav.ico" type="image/x-icon" />
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="table.css" />
  <script type="text/javascript">
    async function getgit(owner, repo, path) {
      // A function to fetch files from github using the api 
      let data = await fetch(
        `https://api.github.com/repos/${owner}/${repo}/contents/${path}`
      )
        .then(d => d.json())
        .then(d =>
          fetch(
            `https://api.github.com/repos/${owner}/${repo}/git/blobs/${d.sha}`
          )
        )
        .then(d => d.json())
        .then(d => JSON.parse(atob(d.content)));
      var result = [];
      for (items in data.tools) {
        if (data.tools[items].type == "ctf")
          result.push(data.tools[items])
      }
      console.log(result);
      document.getElementById("card").innerHTML = result.map((items) =>
        `
          <div class="card">
          <div class="content">        
          <h3>${items.name}</h3>
          <p>${items.description}</p>
          <p>${items.stars}⭐</p>
          <a target="_blank" href="${items.url}">link</a>
          <p>${items.language}</p>
          </div>
        </div>
          `).join("");

      return data;
    }
    data = getgit("Crusher95574", "toolsearch", "tools.json");

  </script>
</head>

<nav>
  <ul>
    <li><a href="index.html">Home</a></li>
    <li><a href="reconnaissance.html">Reconnaissance</a></li>
    <li><a href="api.html">Api</a></li>
    <li><a href="network.html">Network</a></li>
    <li><a href="ctf.html">CTF</a></li>
    <li><a href="forensic.html">Forensic</a></li>
    <li><a href="webExploit.html">Web Exploit</a></li>
    <li><a href="reverseEngineering.html">Reverse Engineering</a></li>
    <li><a href="osint.html">OSINT</a></li>
    <li><img id="icon" src="sunimage.png" href=""></li>
    <li>
      <form id="myForm" autocomplete="off">
        <div>
          <input type="text" id="search" placeholder="Search for any hacking tool" required>
          <button class="button">Search</button>
        </div>
      </form>
      <div id="result"></div>
    </li>
    <li>
      <button class="button2">Donate</button>
    </li>
  </ul>
</nav>

<body>
  <div class="ctf section-hero">
    <div class="container grid grid-two-column">
      <div class="section-hero-data">
        <!--<p class="hero-top-data">this is me</p>-->
        <h1 class="hero-heading">CTF</h1>
        <p class="hero-para">These tools are used for cybersecurity competition where participants
          compete
          to find and exploit vulnerabilities in computer systems and networks to "capture the flag," which is a hidden
          piece of data or information</p>
        <form id="myForm2" autocomplete="off">
          <div>
            <input type="text" id="search2" placeholder="Search for tools in ctf" required>

            <button class="button">Search</button>
          </div>
        </form>
        <div id="result2"></div>
      </div>
      <div class="section-hero-image">
        <video autoplay loop width="500rem">
          <source id="hero-img" src="rashahacksanimation.mp4" />
        </video>
      </div>
    </div>
  </div>

  <div id="card" class="card-container">

  </div>

  <script>
    var icon = document.getElementById("icon");
    icon.onclick = function () {
      document.body.classList.toggle("light-theme");
      if (document.body.classList.contains("light-theme")) {
        icon.src = "moon.png";
      }
      else {

        icon.src = "sunimage.png";
      }
    }
  </script>
  <script type="text/javascript">
    async function getgit(owner, repo, path) {
      // A function to fetch files from github using the api 
      let data = await fetch(
        `https://api.github.com/repos/${owner}/${repo}/contents/${path}`
      )
        .then(d => d.json())
        .then(d =>
          fetch(
            `https://api.github.com/repos/${owner}/${repo}/git/blobs/${d.sha}`
          )
        )
        .then(d => d.json())
        .then(d => JSON.parse(atob(d.content)));

      var form = document.getElementById('myForm');
      form.addEventListener('submit', function (e) {
        e.preventDefault();
        search = document.getElementById('search').value.toUpperCase();
        console.log(search);
        f = 0
        var result = [];
        for (items in data.tools) {
          if (data.tools[items].name === search) {
            result.push(data.tools[items])
            f += 1;
            console.log(result);
          }
          document.getElementById("card").innerHTML = result.map((items) =>
            `
          <div class="card">
          <div class="content">        
          <h3>${items.name}</h3>
          <p>${items.description}</p>
          <p>${items.stars}⭐</p>
          <a target="_blank" href="${items.url}">link</a>
          <p>Language:${items.language}</p>
          </div>
        </div>
          `).join("");

        }
        if (f == 0) {
          fetch("https://api.github.com/search/repositories?q={" + search + "}{&page,per_page,sort,order")
            .then((result) => result.json())
            .then((data) => {
              console.log(data);

              k = data.items[0].full_name
              document.getElementById("result").innerHTML = `
              <a href="https://github.com/${k}">${k}</a>)
              `
            })
        }
      })

      return data;
    }
    data = getgit("Crusher95574", "toolsearch", "tools.json");
  </script>
  <script type="text/javascript">
    async function getgit(owner, repo, path) {
      // A function to fetch files from github using the api 
      let data = await fetch(
        `https://api.github.com/repos/${owner}/${repo}/contents/${path}`
      )
        .then(d => d.json())
        .then(d =>
          fetch(
            `https://api.github.com/repos/${owner}/${repo}/git/blobs/${d.sha}`
          )
        )
        .then(d => d.json())
        .then(d => JSON.parse(atob(d.content)));

      var form = document.getElementById('myForm2');
      form.addEventListener('submit', function (e) {
        e.preventDefault();
        search = document.getElementById('search2').value.toUpperCase();
        console.log(search);
        f = 0
        var result = [];
        for (items in data.tools) {
          if (data.tools[items].name === search && data.tools[items].type === 'ctf') {
            result.push(data.tools[items])
            f += 1;
            console.log(result);
          }
          document.getElementById("card").innerHTML = result.map((items) =>
            `
      <div class="card">
        <div class="content">
          <h3>${items.name}</h3>
          <p>${items.description}</p>
          <p>${items.stars}⭐</p>
          <a target="_blank" href="${items.url}">link</a>
          <p>${items.language}</p>
        </div>
      </div>
      `).join("");

        }
        if (f == 0) {
          fetch("https://api.github.com/search/repositories?q={" + search + "}{&page,per_page,sort,order")
            .then((result) => result.json())
            .then((data) => {
              console.log(data);

              k = data.items[0].full_name
              document.getElementById("result").innerHTML = `
              <a target="_blank" href="https://github.com/${k}">${k}</a>)
              `
            })
        }
      })

      return data;
    }
    data = getgit("Crusher95574", "toolsearch", "tools.json");



  </script>
</body>
<style>
  .light-theme {
    --heroText-color: black;
  }

  :root {
    --heroText-color: white;
  }

  #hero-img {
    max-width: 100%;
    border-radius: 100%;
  }

  .ctf {
    padding: 5rem 10rem;
  }

  .container {
    max-width: auto;
    margin: 0 auto;
  }

  .grid {
    display: grid;
    gap: 9rem;
  }

  .grid-two-column {
    grid-template-columns: repeat(2, 1fr);
  }

  .section-hero {
    background-color: var(--bg);
  }

  .section-hero-data {
    display: flex;
    flex-direction: column;
    justify-content: center;
  }

  .hero-top-data {
    text-transform: uppercase;
    font-weight: 500;
    font-size: 1.5rem;
    color: var(--helper);
  }

  .hero-heading {
    text-transform: uppercase;
    font-weight: 700;
    font-size: 6rem;
    margin-bottom: 1rem;
    color: var(--heroText-color);
  }

  .hero-para {
    margin-top: 0rem;
    font-size: 1.5rem;
    margin-bottom: 4rem;
    max-width: 50rem;
    color: var(--heroText-color);
  }

  .section-hero-image {
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .hero-img {
    max-width: 100%;
  }

  #hero-img {
    max-width: 100%;
    border-radius: 100%;
  }

  #search {
    width: 22rem;
    padding: .5rem;
    margin-top: .3rem;
    margin-left: 1rem;
    border-radius: 1rem;
  }

  #search:focus {
    border: white;
  }

  #search2 {
    width: 22rem;
    padding: .5rem;
    margin-top: .3rem;
    margin-left: 1rem;
    border-radius: 1rem;
  }

  #search2:focus {
    border: white;
  }

  .button {
    background-color: #626262;
    border: none;
    color: white;

    padding: .5rem;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 1rem;
    border-radius: 1rem;
    transition-duration: 0.4s;
    margin-top: .3rem;
  }

  .button:hover {
    background-color: #d6d6d6;
    color: black;
  }

  .button2 {
    background-color: #626262;
    border: none;
    color: white;

    padding: .5rem;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 1rem;
    border-radius: 1rem;
    transition-duration: 0.4s;
    margin-top: .3rem;
    margin-left: 0.5rem;
  }

  .button2:hover {
    background-color: #d6d6d6;
    color: black;
  }
</style>

</html>